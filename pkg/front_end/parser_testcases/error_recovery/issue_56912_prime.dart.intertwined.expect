parseUnit(typedef)
  skipErrorTokens(typedef)
  listener: beginCompilationUnit(typedef)
  syntheticPreviousToken(typedef)
  parseTopLevelDeclarationImpl(, DirectiveContext(DirectiveState.Unknown))
    parseMetadataStar()
      listener: beginMetadataStar(typedef)
      listener: endMetadataStar(0)
    parseTopLevelKeywordDeclaration(typedef, , typedef, null, null, null, null, DirectiveContext(DirectiveState.Unknown))
      parseTypedef(null, typedef)
        listener: beginUncategorizedTopLevelDeclaration(typedef)
        listener: beginTypedef(typedef)
        ensureIdentifierPotentiallyRecovered(typedef, typedefDeclaration, true)
          listener: handleIdentifier(foo, typedefDeclaration)
        listener: handleNoTypeVariables(=)
        listener: handleIdentifier(int, typeReference)
        listener: handleNoTypeArguments(;)
        listener: handleType(int, null)
        ensureSemicolon(int)
        listener: endTypedef(null, typedef, =, ;)
  listener: endTopLevelDeclaration(;)
  reportAllErrorTokens(typedef)
  listener: endCompilationUnit(1, )
